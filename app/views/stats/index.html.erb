<div class="w-full">
  <div class="stats shadow w-full bg-base-200">
    <div class="stat text-center">
      <div class="stat-value text-primary">
        <%= number_with_delimiter(current_user.total_km) %> km
      </div>
      <div class="stat-title">Total distance</div>
    </div>

    <div class="stat text-center">
      <div class="stat-value text-success">
        <%= number_with_delimiter current_user.points.count %>
      </div>
      <div class="stat-title">Geopoints tracked</div>
    </div>

    <% if REVERSE_GEOCODING_ENABLED %>
      <div class="stat text-center">
        <div class="stat-value text-secondary">
          <%= current_user.total_reverse_geocoded %>
        </div>
        <div class="stat-title">Reverse geocoded points</div>
      </div>

      <div class="stat text-center">
        <div class="stat-value text-warning">
          <%= number_with_delimiter current_user.total_countries %>
        </div>
        <div class="stat-title">Countries visited</div>
      </div>

      <div class="stat text-center">
        <div class="stat-value">
          <%= current_user.total_cities %>
        </div>
        <div class="stat-title">Cities visited</div>
      </div>
    <% end %>
  </div>

  <% @stats.each do |year, stats| %>
    <h2 class='text-3xl font-bold mt-10'>
      <%= link_to points_url(year_timespan(year)), class: 'underline hover:no-underline' do %>
        <%= year %>
      <% end %>
    </h2>
    <div class="mt-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4">
      <% stats.each do |stat| %>
        <%= render stat %>
      <% end %>
    </div>
  <% end %>
</div>
